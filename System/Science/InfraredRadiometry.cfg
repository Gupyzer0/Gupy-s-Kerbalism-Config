// ============================================================================
// Infrared Radiometry
// ============================================================================

// ----------------------------------------------------------------------------
// Science Definitions 
// ----------------------------------------------------------------------------

EXPERIMENT_DEFINITION
{
	id = Spacelines_IRRadiometer
	title = Infrared Radiation Data
	baseValue = 5
	scienceCap = 5
	dataScale = 1
	requireAtmosphere = False
	situationMask = 48 // in space low, in space high.
	biomeMask = 16
	RESULTS
	{
        default = The instrument measures the infrared radiation emitted by the studied body to determine its surface temperature.
    }

     KERBALISM_EXPERIMENT
    {
		Situation = InSpaceHigh
		Situation = InSpaceLow
    }
}

// ----------------------------------------------------------------------------
// Replacing Experiments with our own experiment
// ----------------------------------------------------------------------------
// Modules being replaced:
// -----------------------
// + bd_IRradiometer -> Spacelines_IRRadiometer
// ----------------------------------------------------------------------------

@PART[*]:HAS[@MODULE[*ModuleScience*]:HAS[#experimentID[bd_IRradiometer]]]:NEEDS[FeatureScience] {
    &MODULE[Experiment]:HAS[#experiment_id[Spacelines_IRRadiometer]] {
        &name = Experiment
        &experiment_id = Spacelines_IRRadiometer
    }
}

// ----------------------------------------------------------------------------
// Animations
// ----------------------------------------------------------------------------

@PART[*]:HAS[@MODULE[*ModuleScienceAnimate*]:HAS[#experimentID[bd_IRradiometer]]]:FOR[KerbalismDefault]:NEEDS[FeatureScience] {
    @MODULE[Experiment]:HAS[#experiment_id[Spacelines_IRRadiometer]&~anim_deploy[*]&~anim_loop[*]] {
        &anim_deploy = #$../MODULE[*ModuleScienceAnimate*]:HAS[#experimentID[bd_IRradiometer]]/animationName$
    }
}

// ----------------------------------------------------------------------------
// Experiments Reconfiguration
// ----------------------------------------------------------------------------

@PART[*]:HAS[@MODULE[Experiment]]:AFTER[KerbalismDefault]
{
	@MODULE[Experiment]:HAS[#experiment_id[Spacelines_IRRadiometer]]
	{
		%ec_rate = 0.05
		%data_rate = 9
		@data_rate /= 21600 // 6h
		%requires = OrbitMinEccentricity:0.04
		%resources = 
		%experiment_desc = The instrument measures the infrared radiation emitted by the studied body to determine its surface temperature.
        allow_shrouded = false
	}
}
