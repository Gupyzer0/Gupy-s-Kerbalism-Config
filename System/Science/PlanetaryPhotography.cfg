// ============================================================================
// PLanetary Photography Experiments
// ============================================================================

// ----------------------------------------------------------------------------
// Science Definitions 
// ----------------------------------------------------------------------------

EXPERIMENT_DEFINITION
{
    id = Spacelines_Photos0
    title = Planetary Photography
    baseValue = 5
    scienceCap = 5
    dataScale = 20

    RESULTS
    {
        default = Photographs taken!
    }
    KERBALISM_EXPERIMENT
    {
		// sample mass in tons. if undefined or 0, the experiment produce a file
 	    SampleMass = 0.002
		// Body restrictions, multiple lines allowed (just don't use confictiong combinations).
	    BodyAllowed = HomeBodyAndMoons
		Situation = FlyingHigh@Biomes
		Situation = InSpaceLow@Biomes
    }
}

EXPERIMENT_DEFINITION
{
    id = Spacelines_Photos1
    title = Planetary photography with panoramic camera
    baseValue = 5
    scienceCap = 5
    dataScale = 20

    RESULTS
    {
        default = Photographs taken!
    }
    KERBALISM_EXPERIMENT
    {
		// sample mass in tons. if undefined or 0, the experiment produce a file
 	    SampleMass = 0.008
		// 80kgs total sample for 4x20kg launches, with 8kg for 10 biomes
		// Body restrictions, multiple lines allowed (just don't use confictiong combinations).
		Situation = InSpaceLow@Biomes
	    BodyAllowed = HomeBodyAndMoons
	    IncludeExperiment = Spacelines_Photos0
    }
}

EXPERIMENT_DEFINITION
{
    id = Spacelines_Photos2
    title = Photography with dual panoramic camera
    baseValue = 16
    scienceCap = 16
    dataScale = 50

    KERBALISM_EXPERIMENT
    {
 	    SampleMass = 0.032
		// the base kh-4 part gathers 40kg across 8 launches for a total of 320kg of film
	    BodyAllowed = HomeBodyAndMoons
		Situation = InSpaceLow@Biomes
	    IncludeExperiment = Spacelines_Photos1
    }
    RESULTS
    {
        default = Photographs taken!
    }
}

EXPERIMENT_DEFINITION
{
    id = Spacelines_Photos3
    title = Improved planetary photography with less than a meter of ground resolution
    baseValue = 500
    scienceCap = 500
    dataScale = 300

    RESULTS
    {
        default = Photographs taken!
    }
    KERBALISM_EXPERIMENT
    {
		// sample mass in tons. if undefined or 0, the experiment produce a file
 	    SampleMass = 2.5
		// Body restrictions, multiple lines allowed (just don't use confictiong combinations).
	    BodyAllowed = HomeBodyAndMoons
		Situation = InSpaceLow@Biomes
	    IncludeExperiment = Spacelines_Photos2
    }
}

EXPERIMENT_DEFINITION
{
    id = Spacelines_Photos4
    title = Planetary photography with less than half a meter resolution
    baseValue = 10000 //500 science per year
    scienceCap = 10000
    dataScale = 18720000 //Hubble sends an average of 18 GB of data per week

    RESULTS
    {
        default = Photographs taken!
    }
    KERBALISM_EXPERIMENT
    {
		// sample mass in tons. if undefined or 0, the experiment produce a file
 	    SampleMass = 0
		// Body restrictions, multiple lines allowed (just don't use confictiong combinations).
	    BodyAllowed = HomeBodyAndMoons
        Situation = InSpaceLow@Biomes
	    IncludeExperiment = Spacelines_Photos3
    }
}

// ----------------------------------------------------------------------------
// Replacing Experiments with our own experiment
// ----------------------------------------------------------------------------

// Tagging experiments

// Photos 0 - Early flown cameras in V-2 rockets
@PART[bluedog_cameraLowTech]:NEEDS[FeatureScience] {
    %Spacelines_Camera0 = True
}

// Photos 1 - KH-1 Early Orbital Photography
@PART[bluedog_Keyhole_Camera_KH1|bluedog_cameraMidTech]:NEEDS[FeatureScience] {
    %Spacelines_Camera1 = True
}

// Photos 2 - KH-4/Zenit Style Experiment
@PART[bluedog_Keyhole_Camera_KH4|bluedog_Keyhole_Camera_KH4B|bluedog_Gemini_LunarRecon_Camera]:NEEDS[FeatureScience] {
    %Spacelines_Camera2 = True
}

// Photos 3 - KH-7/8/9 Satellites | MOL
@PART[bluedog_Keyhole_Camera_KH7|bluedog_Keyhole_Camera_KH8|bluedog_Hexagon_Camera|bluedog_MOL_Camera]:NEEDS[FeatureScience] {
    %Spacelines_Camera3 = True
}

// Photos 4 - KH-11 Satellites
// @PART[]:NEEDS[FeatureScience] { -> Parts pending
    %Spacelines_Camera4 = True
// }

// Creating experiment for tagged parts
@PART[*]:HAS[#Spacelines_Camera0[True]]NEEDS[FeatureScience]
{    
    MODULE
	{
		name = Experiment
		experiment_id = Spacelines_Photos0
        anim_deploy = deploy
        SampleMass = 0.002
		sample_amount = 1
		ec_rate = 0.001
		%data_rate = 20
		@data_rate /=  600
		%requires = Sunlight
		%experiment_desc = Early film flown on V2 rockets, taking the first photos from space. Can also be used as a reconnaissance camera. Requires physical recovery.
		allow_shrouded = false
	}
}

@PART[*]:HAS[#Spacelines_Camera1[True]]NEEDS[FeatureScience]
{    
    MODULE
	{
		name = Experiment
		experiment_id = Spacelines_Photos1
        anim_deploy = deploy
        SampleMass = 0.01
		sample_amount = 2.5
		ec_rate = 0.001
		%data_rate = 20
		@data_rate /=  600
		%requires = Sunlight
		%experiment_desc = Early film flown on V2 rockets, taking the first photos from space. Can also be used as a reconnaissance camera. Requires physical recovery.
		allow_shrouded = false
	}
}