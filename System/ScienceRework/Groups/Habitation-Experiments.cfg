
@KERBALISM_GROUP_SETTINGS:NEEDS[FeatureScience]
{
	HABITATION_EXPERIMENTS
	{
		BaseSlots = 1
		UpgradeTech = start
		UpgradedSlots = 2
		UpgradeEntryCost = 15000

		FLIGHT							//2 week crew report, landed/splashed biome mask. all situations except flying high/low
		{
			ECCost = 5.18
			size = 2359
			value = 10								// starting value.
			duration = 302400						// 2 weeks crew report, minimum crew: 2
			SetupMass = 0.12
			SetupCost = 1360
			UnlockTech = start
			requirements = CrewMin:2,AstronautComplexLevelMin:2,AdministrationLevelMin:2,MissionControlLevelMin:2
			CrewRequirement = True
			ResourceRates =
		}

		FLOAT										//6 months Kerbin SOI Habitation,4 crew minimum, 50m3 per kerbal. Low Orbit
		{
			ECCost = 5.82
			size = 1428
			value = 45								// starting value.
			duration = 3888000						// 6 months. preparation for interplanetary manned travel. Kerbin, Mun, Minmus, very precise orbit required.
			SetupMass = 1.58
			SetupCost = 5720
			UnlockTech = start
			requirements = CrewMin:4,VolumePerCrewMin:25,OrbitMaxEccentricity:0.02,OrbitMaxInclination:0.2
			CrewRequirement = True
			ResourceRates =
		}

		HERRING										//ultra long term, 2+years, interplanetary (around the sun)
		{
			ECCost = 3.14
			size = 198245
			value = 30								// starting value.
			duration = 21954240						//long duration, 2y+, Interplanetary. Could probably be done in a few manned missions to other planets.
			SetupMass = 2.74
			SetupCost = 25720
			UnlockTech = start
			requirements = CrewMin:8,VolumePerCrewMin:18,TrackingStationLevelMin:3
			CrewRequirement = True
			ResourceRates =
		}

		LEAVE //Orbital habitation around other bodies, 1y+, 6 crew minimum. aimed for a 45 degree inclination. both low and high orbits.
		{
			ECCost = 17.94
			size = 3398
			value = 28								// starting value.
			duration = 11102400						//1y+
			SetupMass = 0.73
			SetupCost = 9360
			UnlockTech = start
			requirements = CrewMin:6,OrbitMinEccentricity:0.3,OrbitMinInclination:35,OrbitMaxInclination:55
			CrewRequirement = True
			ResourceRates =
		}

		STAKE // no clue, 6m+, landed only, no biomes, not kerbin, engineer@3 required. why? because. Not kerbin. Medium radiation required.
		{
			ECCost = 27.53
			size = 18205
			value = 30								// starting value.
			duration = 4838400						// 7-ish months
			SetupMass = 3.58
			SetupCost = 32980
			UnlockTech = start
			requirements = AstronautComplexLevelMin:3,AdministrationLevelMin:2,MissionControlLevelMin:3,RadiationMin:0.000002
			CrewRequirement = True
			ResourceRates =
		}

		SHAKE //again, no clue, 1y+, landed only, biomes, minimum crew: 4
		{
			ECCost = 9.37
			size = 13482
			value = 35								// starting value.
			duration = 11664000						//1y+
			SetupMass = 2.74
			SetupCost = 25720
			UnlockTech = start
			requirements = AstronautComplexLevelMin:3,MissionControlLevelMin:3,CrewMin:4,VolumePerCrewMin:10
			CrewRequirement = Engineer:3
			ResourceRates =
		}

		// Ground bases habitability experiments
		TRAPPED								//landed, 2 years, intended for ground bases. no biomes
		{
			ECCost = 2.67
			size = 5838274							// <- lol.
			value = 38								// it better be worth it.
			duration = 19958400						// 2 years
			SetupMass = 6.74
			SetupCost = 35180
			UnlockTech = bases9
			requirements =
			CrewRequirement = True
			ResourceRates = 						//no clue, because idk what the experiment is in the first place
		}

		CLAM										// underwater only. biomes if relevant.
		{
			ECCost = 1.37
			size = 2593
			value = 24								// starting value.
			duration = 648000						//1 month.
			SetupMass = 3.56
			SetupCost = 16730
			UnlockTech = start
			requirements = CrewMin:2,AltitudeMax:-120,VolumePerCrewMax:5
			CrewRequirement = Scientist:4
			ResourceRates =
		}

		WRECK
		{
			ECCost = 9.37
			size = 13482
			value = 32								// starting value.
			duration = 1944000						//3 months
			SetupMass = 2.74
			SetupCost = 25720
			UnlockTech = start
			requirements = CrewMin:3,VolumePerCrewMin:25,AltitudeMax:-50
			CrewRequirement = True
			ResourceRates =
		}
	}
}


// ----------------------------------------------------------------------------
// Science Definitions
// ----------------------------------------------------------------------------

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_FLIGHT
	title = FLIGHT

%@baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/value$%	@dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/size$
	@dataScale /= #$baseValue$

  	KERBALISM_EXPERIMENT
	{
		Situation = InSpaceLow
		Situation = InSpaceHigh
	}
}
EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_HERRING
	title = HERRING

	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/size$
	@dataScale /= #$baseValue$

  	KERBALISM_EXPERIMENT
	{
		Situation = InSpaceLow
		Situation = InSpaceHigh
		BodyAllowed = Suns
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_LEAVE
	title = LEAVE
	
	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/size$
	@dataScale /= #$baseValue$

  	KERBALISM_EXPERIMENT
	{
		Situation = InSpaceLow@Biomes
		Situation = InSpaceHigh@Biomes
		BodyNotAllowed = HomeBodyAndMoons
		BodyAllowed = Planets
		BodyAllowed = Moons
	}
}
//underwater habitation/long term experiments
EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_CLAM
	title = CLAM
	
	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/size$
	@dataScale /= #$baseValue$
  
  	KERBALISM_EXPERIMENT
	{
		Situation = SrfSplashed@Biomes
		BodyNotAllowed = HomeBody
	}
}
EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_WRECK
	title = WRECK
	
	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/size$
	@dataScale /= #$baseValue$
  
  	KERBALISM_EXPERIMENT
	{
		Situation = SrfSplashed@Biomes
		BodyNotAllowed = HomeBody
	}
}

//=============================================================================================
// Ground base Experiments
// main idea: has to be landed, has to be long term to give ground bases a purpose.
// Goes in Crewed Experiments Group
//=============================================================================================
EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_STAKE
	title = STAKE
	
	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/size$
	@dataScale /= #$baseValue$
  
  	KERBALISM_EXPERIMENT
	{
		Situation = SrfLanded
		BodyNotAllowed = HomeBody
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_SHAKE
	title = SHAKE
	
	%baseValue = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/size$
	@dataScale /= #$baseValue$

  	KERBALISM_EXPERIMENT
	{
		Situation = SrfLanded@Biomes
		BodyNotAllowed = HomeBody
	}
}

EXPERIMENT_DEFINITION:NEEDS[FeatureScience]
{
	id = kerbalism_TRAPPED										//ultra long term, 2+years. no clue where. probably landed? for ground bases? no biomes?
	title = TRAPPED

	%baseValue = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/value$
	%dataScale = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/size$
	@dataScale /= #$baseValue$

  	KERBALISM_EXPERIMENT
	{
		Situation = SrfLanded
		BodyNotAllowed = HomeBody
		SampleMass = 0.015
	}
}

// ============================================================================
// Patching all the parts that have the Habitation Experiments group added,
// adding the experiments, patching the SETUPs
// and the experiment paramters based on values from the relevant config in the tweakables folder
// ============================================================================
@PART[*]:HAS[@MODULE[Configure]:HAS[#title[Habitation?Experiments]]]:NEEDS[FeatureScience]
{
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_FLIGHT
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_HERRING
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_LEAVE
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_STAKE
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_SHAKE
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_CLAM
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_WRECK
	}
	MODULE
	{
		name = Experiment
		experiment_id = kerbalism_TRAPPED
	}
// ============================================================================
// Adding the Configure module to handle the experiment selection, together with
// the corresponding setups.
	@MODULE[Configure]:HAS[#title[Habitation?Experiments]]
	{
		SETUP
		{
			name = None
			desc = Empty slot for mass and cost savings, should you not require any experiments installed.
		}
		SETUP
		{
			name = FLIGHT
			desc = Floating Lightly In Gravity while Holding Tightly
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_FLIGHT
			}
		}
		SETUP
		{
			name = HERRING
			desc = Heliosphere Environment Resilience and Recuperation Intentional Naturalising Growth: Study on Kerbal physiological changes whilst in inter-planetary space.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_HERRING
			}
		}
		SETUP
		{
			name = LEAVE
			desc = Long Experiment Affecting Volume Exposure: Ultra-long duration study on the effects of trapping Kerbals in a canned environment.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_LEAVE
			}
		}
		SETUP
		{
			name = STAKE
			desc = Situational Testing Advancing Kerbin Equality
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_STAKE
			}
		}
		SETUP
		{
			name = SHAKE
			desc = Surface Hydrated Analysis of Kinetic Exposition: Kerbal Engineers testing if seismic activity could be used for shaking drinks.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_SHAKE
			}
		}
		SETUP
		{
			name = CLAM
			desc = Closed Lifesupport Assessed Measurements: Apparently some Kerbals would prefer physical pressure to the psychological one.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_CLAM
			}
		}
		SETUP
		{
			name = WRECK
			desc = Water Reconnaissance Experiment Comparing to Kerbin
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_WRECK
			}
		}
		SETUP
		{
			name = TRAPPED
			desc = Technical Retro-Analysis of Point Placement in Environmental Dwelling: Analize the behavious of Kerbals outisde of our home planet.
			MODULE
			{
				type = Experiment
				id_field = experiment_id
				id_value = kerbalism_TRAPPED
			}
		}
	}
}

// ============================================================================
// The experiments were just added above, but not configured. This section takes care of that
// ============================================================================
@PART[*]:HAS[@MODULE[Configure]:HAS[#title[Habitation?Experiments]]]:NEEDS[FeatureScience]:FOR[KerbalismDefault]
{
	@MODULE[Configure]:HAS[#title[Habitation?Experiments]]
	{
		%slots = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/BaseSlots$
		%reconfigure = false

		UPGRADES
		{
			UPGRADE
			{
				name__ = Crew-Upgrade1
				techRequired__ = #$../../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/UpgradeTech$
				slots = #$../../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/UpgradedSlots$
			}
		}

		@SETUP:HAS[#name[FLIGHT]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/SetupCost$
		}

		@SETUP:HAS[#name[HERRING]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/SetupCost$
		}

		@SETUP:HAS[#name[FLOAT]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLOAT/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLOAT/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLOAT/SetupCost$
		}

		@SETUP:HAS[#name[LEAVE]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/SetupCost$
		}

		@SETUP:HAS[#name[STAKE]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/SetupCost$
		}

		@SETUP:HAS[#name[SHAKE]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/SetupCost$
		}

		@SETUP:HAS[#name[CLAM]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/SetupCost$
		}

		@SETUP:HAS[#name[WRECK]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/SetupCost$
		}

		@SETUP:HAS[#name[TRAPPED]]
		{
			%tech = #$../../@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/UnlockTech$
			%mass = #$../../@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/SetupMass$
			%cost = #$../../@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/SetupCost$
		}
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_FLIGHT]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/FLIGHT/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_HERRING]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/HERRING/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_LEAVE]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/LEAVE/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_STAKE]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/STAKE/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_SHAKE]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/SHAKE/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_CLAM]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/CLAM/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_WRECK]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/duration$
		%resources = #$@KERBALISM_GROUP_SETTINGS/HABITATION_EXPERIMENTS/WRECK/ResourceRates$
	}

	@MODULE[Experiment]:HAS[#experiment_id[kerbalism_TRAPPED]]
	{
		%ec_rate = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/ECCost$
		%crew_operate = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/CrewRequirement$
		%requires = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/requirements$
		%data_rate = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/size$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/duration$
		@data_rate /= #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/LabDataRateMultiplier$
		%resources = #$@KERBALISM_GROUP_SETTINGS/LAB_EXPERIMENTS/TRAPPED/ResourceRates$
		%sample_collecting = True
	}
}
